{"ast":null,"code":"import _slicedToArray from \"/Users/user/Documents/GitHub/ascii-renderer/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/user/Documents/GitHub/ascii-renderer/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useEffect, useRef, useState, useMemo, useLayoutEffect } from 'react';\nimport { Canvas, useFrame, useThree, useLoader } from '@react-three/fiber';\nimport { OrbitControls, useCursor, useGLTF } from '@react-three/drei';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport { AsciiEffect } from 'three-stdlib';\nimport { Suspense } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    model = _useState2[0],\n    setModel = _useState2[1];\n  var _useGLTF = useGLTF(\"/public/untitled.gltf\"),\n    nodes = _useGLTF.nodes,\n    materials = _useGLTF.materials;\n  useEffect(function () {\n    var loader = new GLTFLoader();\n    loader.load(\"/public/untitled.gltf\", setModel);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Canvas, {\n    children: [/*#__PURE__*/_jsxDEV(\"color\", {\n      attach: \"background\",\n      args: ['black']\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"spotLight\", {\n      position: [10, 10, 10],\n      angle: 0.15,\n      penumbra: 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"pointLight\", {\n      position: [-10, -10, -10]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this), model && /*#__PURE__*/_jsxDEV(Model, {\n      model: model\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: null,\n      children: /*#__PURE__*/_jsxDEV(OrbitControls, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AsciiRenderer, {\n      fgColor: \"white\",\n      bgColor: \"black\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"Z1w67OvsZhSNFDXY9kjEs/umu7Y=\", false, function () {\n  return [useGLTF];\n});\n_c = App;\nfunction Model(_ref) {\n  var _this = this;\n  var model = _ref.model;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: model.scene.children.map(function (child) {\n      return /*#__PURE__*/_jsxDEV(\"primitive\", {\n        object: child\n      }, child.uuid, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, _this);\n    })\n  }, void 0, false);\n}\n_c2 = Model;\nfunction AsciiRenderer(_ref2) {\n  _s2();\n  var _ref2$renderIndex = _ref2.renderIndex,\n    renderIndex = _ref2$renderIndex === void 0 ? 1 : _ref2$renderIndex,\n    _ref2$bgColor = _ref2.bgColor,\n    bgColor = _ref2$bgColor === void 0 ? 'black' : _ref2$bgColor,\n    _ref2$fgColor = _ref2.fgColor,\n    fgColor = _ref2$fgColor === void 0 ? 'white' : _ref2$fgColor,\n    _ref2$characters = _ref2.characters,\n    characters = _ref2$characters === void 0 ? ' .:-+*=%@#' : _ref2$characters,\n    _ref2$invert = _ref2.invert,\n    invert = _ref2$invert === void 0 ? true : _ref2$invert,\n    _ref2$color = _ref2.color,\n    color = _ref2$color === void 0 ? false : _ref2$color,\n    _ref2$resolution = _ref2.resolution,\n    resolution = _ref2$resolution === void 0 ? 0.15 : _ref2$resolution;\n  // Reactive state\n  var _useThree = useThree(),\n    size = _useThree.size,\n    gl = _useThree.gl,\n    scene = _useThree.scene,\n    camera = _useThree.camera;\n\n  // Create effect\n  var effect = useMemo(function () {\n    var effect = new AsciiEffect(gl, characters, {\n      invert: invert,\n      color: color,\n      resolution: resolution\n    });\n    effect.domElement.style.position = 'absolute';\n    effect.domElement.style.top = '0px';\n    effect.domElement.style.left = '0px';\n    effect.domElement.style.pointerEvents = 'none';\n    return effect;\n  }, [characters, invert, color, resolution]);\n\n  // Styling\n  useLayoutEffect(function () {\n    effect.domElement.style.color = fgColor;\n    effect.domElement.style.backgroundColor = bgColor;\n  }, [fgColor, bgColor]);\n\n  // Append on mount, remove on unmount\n  useEffect(function () {\n    gl.domElement.style.opacity = '0';\n    gl.domElement.parentNode.appendChild(effect.domElement);\n    return function () {\n      gl.domElement.style.opacity = '1';\n      gl.domElement.parentNode.removeChild(effect.domElement);\n    };\n  }, [effect]);\n\n  // Set size\n  useEffect(function () {\n    effect.setSize(size.width, size.height);\n  }, [effect, size]);\n\n  // Take over render-loop (that is what the index is for)\n  useFrame(function (state) {\n    effect.render(scene, camera);\n  }, renderIndex);\n\n  // This component returns nothing, it is a purely logical\n}\n_s2(AsciiRenderer, \"dw6tqU+D8S1QR8m8aOFZGC7ei6Y=\", false, function () {\n  return [useThree, useFrame];\n});\n_c3 = AsciiRenderer;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"Model\");\n$RefreshReg$(_c3, \"AsciiRenderer\");","map":{"version":3,"names":["useEffect","useRef","useState","useMemo","useLayoutEffect","Canvas","useFrame","useThree","useLoader","OrbitControls","useCursor","useGLTF","GLTFLoader","AsciiEffect","Suspense","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","_useState","_useState2","_slicedToArray","model","setModel","_useGLTF","nodes","materials","loader","load","children","attach","args","fileName","_jsxFileName","lineNumber","columnNumber","position","angle","penumbra","Model","fallback","AsciiRenderer","fgColor","bgColor","_c","_ref","_this","scene","map","child","object","uuid","_c2","_ref2","_s2","_ref2$renderIndex","renderIndex","_ref2$bgColor","_ref2$fgColor","_ref2$characters","characters","_ref2$invert","invert","_ref2$color","color","_ref2$resolution","resolution","_useThree","size","gl","camera","effect","domElement","style","top","left","pointerEvents","backgroundColor","opacity","parentNode","appendChild","removeChild","setSize","width","height","state","render","_c3","$RefreshReg$"],"sources":["/Users/user/Documents/GitHub/ascii-renderer/src/App.js"],"sourcesContent":["import { useEffect, useRef, useState, useMemo, useLayoutEffect } from 'react'\nimport { Canvas, useFrame, useThree, useLoader} from '@react-three/fiber'\nimport { OrbitControls, useCursor, useGLTF } from '@react-three/drei'\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\nimport { AsciiEffect } from 'three-stdlib'\nimport { Suspense } from 'react'\n\nexport default function App() {\n  const [model, setModel] = useState()\n  const { nodes, materials } = useGLTF(\"/public/untitled.gltf\")\n\n  useEffect(() => {\n    const loader = new GLTFLoader()\n    loader.load(\"/public/untitled.gltf\", setModel)\n  }, [])\n\n  return (\n    <Canvas>\n      <color attach=\"background\" args={['black']} />\n      <spotLight position={[10, 10, 10]} angle={0.15} penumbra={1} />\n      <pointLight position={[-10, -10, -10]} />\n      {model && <Model model={model} />}\n      <Suspense fallback={null}>\n        <OrbitControls />\n      </Suspense>\n      <AsciiRenderer fgColor=\"white\" bgColor=\"black\" />\n    </Canvas>\n  )\n}\n\nfunction Model({ model }) {\n  return (\n    <>\n      {model.scene.children.map((child) => (\n        <primitive key={child.uuid} object={child} />\n      ))}\n    </>\n  )\n}\n\nfunction AsciiRenderer({\n  renderIndex = 1,\n  bgColor = 'black',\n  fgColor = 'white',\n  characters = ' .:-+*=%@#',\n  invert = true,\n  color = false,\n  resolution = 0.15\n}) {\n  // Reactive state\n  const { size, gl, scene, camera } = useThree()\n\n  // Create effect\n  const effect = useMemo(() => {\n    const effect = new AsciiEffect(gl, characters, { invert, color, resolution })\n    effect.domElement.style.position = 'absolute'\n    effect.domElement.style.top = '0px'\n    effect.domElement.style.left = '0px'\n    effect.domElement.style.pointerEvents = 'none'\n    return effect\n  }, [characters, invert, color, resolution])\n\n  // Styling\n  useLayoutEffect(() => {\n    effect.domElement.style.color = fgColor\n    effect.domElement.style.backgroundColor = bgColor\n  }, [fgColor, bgColor])\n\n  // Append on mount, remove on unmount\n  useEffect(() => {\n    gl.domElement.style.opacity = '0'\n    gl.domElement.parentNode.appendChild(effect.domElement)\n    return () => {\n      gl.domElement.style.opacity = '1'\n      gl.domElement.parentNode.removeChild(effect.domElement)\n    }\n  }, [effect])\n\n  // Set size\n  useEffect(() => {\n    effect.setSize(size.width, size.height)\n  }, [effect, size])\n\n  // Take over render-loop (that is what the index is for)\n  useFrame((state) => {\n    effect.render(scene, camera)\n  }, renderIndex)\n\n  // This component returns nothing, it is a purely logical\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
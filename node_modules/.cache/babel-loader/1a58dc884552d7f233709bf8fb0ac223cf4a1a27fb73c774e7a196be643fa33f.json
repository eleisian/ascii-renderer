{"ast":null,"code":"import\"./styles.css\";import{Canvas}from\"@react-three/fiber\";import{Environment,OrbitControls}from\"@react-three/drei\";import{Suspense}from\"react\";import Model from\"./Model\";import{useEffect,useRef,useState,useMemo,useLayoutEffect}from'react';import{useFrame,useThree}from'@react-three/fiber';import{useCursor}from'@react-three/drei';import{AsciiEffect}from'three-stdlib';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Canvas,{camera:{position:[0,4,0],rotation:[-Math.PI/2,0,0],pixelRatio:window.devicePixelRatio},children:[/*#__PURE__*/_jsx(\"color\",{attach:\"background\",args:['black']}),/*#__PURE__*/_jsx(\"spotLight\",{position:[10,10,10],angle:0.15,penumbra:1}),/*#__PURE__*/_jsx(\"pointLight\",{position:[-10,-10,-10]}),/*#__PURE__*/_jsxs(Suspense,{fallback:null,children:[/*#__PURE__*/_jsx(Model,{}),/*#__PURE__*/_jsx(OrbitControls,{target:[0,0,0]}),/*#__PURE__*/_jsx(AsciiRenderer,{fgColor:\"white\",bgColor:\"black\"})]})]})});function AsciiRenderer(_ref){var _ref$renderIndex=_ref.renderIndex,renderIndex=_ref$renderIndex===void 0?1:_ref$renderIndex,_ref$bgColor=_ref.bgColor,bgColor=_ref$bgColor===void 0?'black':_ref$bgColor,_ref$fgColor=_ref.fgColor,fgColor=_ref$fgColor===void 0?'white':_ref$fgColor,_ref$characters=_ref.characters,characters=_ref$characters===void 0?' .:-+*=%@#':_ref$characters,_ref$invert=_ref.invert,invert=_ref$invert===void 0?true:_ref$invert,_ref$color=_ref.color,color=_ref$color===void 0?false:_ref$color,_ref$resolution=_ref.resolution,resolution=_ref$resolution===void 0?0.2:_ref$resolution;// Reactive state\nvar _useThree=useThree(),size=_useThree.size,gl=_useThree.gl,scene=_useThree.scene,camera=_useThree.camera;var aspectRatio=size.width/size.height;// Create effect\nvar effect=useMemo(function(){var effect=new AsciiEffect(gl,characters,{invert:invert,color:color,resolution:resolution});effect.domElement.style.position='absolute';effect.domElement.style.top='0px';effect.domElement.style.left='0px';effect.domElement.style.pointerEvents='none';//effect.setSize(size.width, size.height / aspectRatio)\nreturn effect;},[characters,invert,color,aspectRatio,resolution]);// Styling\nuseLayoutEffect(function(){effect.domElement.style.color=fgColor;effect.domElement.style.backgroundColor=bgColor;},[fgColor,bgColor]);// Append on mount, remove on unmount\nuseEffect(function(){gl.domElement.style.opacity='0';gl.domElement.parentNode.appendChild(effect.domElement);return function(){gl.domElement.style.opacity='1';gl.domElement.parentNode.removeChild(effect.domElement);};},[effect]);// Set size\nuseEffect(function(){effect.setSize(size.width,size.height);},[effect,size]);// Take over render-loop (that is what the index is for)\nuseFrame(function(state){effect.render(scene,camera);},renderIndex);// This component returns nothing, it is a purely logical\n}}","map":{"version":3,"names":["Canvas","Environment","OrbitControls","Suspense","Model","useEffect","useRef","useState","useMemo","useLayoutEffect","useFrame","useThree","useCursor","AsciiEffect","jsx","_jsx","jsxs","_jsxs","App","className","children","camera","position","rotation","Math","PI","pixelRatio","window","devicePixelRatio","attach","args","angle","penumbra","fallback","target","AsciiRenderer","fgColor","bgColor","_ref","_ref$renderIndex","renderIndex","_ref$bgColor","_ref$fgColor","_ref$characters","characters","_ref$invert","invert","_ref$color","color","_ref$resolution","resolution","_useThree","size","gl","scene","aspectRatio","width","height","effect","domElement","style","top","left","pointerEvents","backgroundColor","opacity","parentNode","appendChild","removeChild","setSize","state","render"],"sources":["/Users/user/Documents/GitHub/ascii-renderer/src/App.js"],"sourcesContent":["import \"./styles.css\";\nimport { Canvas } from \"@react-three/fiber\";\nimport { Environment, OrbitControls } from \"@react-three/drei\";\nimport { Suspense } from \"react\";\nimport Model from \"./Model\";\n\nimport { useEffect, useRef, useState, useMemo, useLayoutEffect } from 'react'\nimport { useFrame, useThree } from '@react-three/fiber'\nimport { useCursor } from '@react-three/drei'\nimport { AsciiEffect } from 'three-stdlib'\n\nexport default function App() {\n  return (\n    <div className=\"App\">\n      <Canvas camera={{ position: [0, 4, 0], rotation: [-Math.PI / 2, 0, 0], pixelRatio: window.devicePixelRatio }}>\n      <color attach=\"background\" args={['black']} />\n      <spotLight position={[10, 10, 10]} angle={0.15} penumbra={1} />\n      <pointLight position={[-10, -10, -10]} />\n        <Suspense fallback={null}>\n          <Model />\n          <OrbitControls target={[0, 0, 0]} />\n          <AsciiRenderer fgColor=\"white\" bgColor=\"black\" />\n        \n        </Suspense>\n      </Canvas>\n    </div>\n  );\n  function AsciiRenderer({\n  renderIndex = 1,\n  bgColor = 'black',\n  fgColor = 'white',\n  characters = ' .:-+*=%@#',\n  invert = true,\n  color = false,\n  resolution = 0.2\n}) {\n  // Reactive state\n  const { size, gl, scene, camera } = useThree()\n  const aspectRatio = size.width / size.height\n\n  // Create effect\n  const effect = useMemo(() => {\n    const effect = new AsciiEffect(gl, characters, { invert, color, resolution })\n    effect.domElement.style.position = 'absolute'\n    effect.domElement.style.top = '0px'\n    effect.domElement.style.left = '0px'\n    effect.domElement.style.pointerEvents = 'none'\n    //effect.setSize(size.width, size.height / aspectRatio)\n    return effect\n  }, [characters, invert, color, aspectRatio, resolution])\n\n  // Styling\n  useLayoutEffect(() => {\n    effect.domElement.style.color = fgColor\n    effect.domElement.style.backgroundColor = bgColor\n  }, [fgColor, bgColor])\n\n  // Append on mount, remove on unmount\n  useEffect(() => {\n    gl.domElement.style.opacity = '0'\n    gl.domElement.parentNode.appendChild(effect.domElement)\n    return () => {\n      gl.domElement.style.opacity = '1'\n      gl.domElement.parentNode.removeChild(effect.domElement)\n    }\n  }, [effect])\n\n  // Set size\n  useEffect(() => {\n    effect.setSize(size.width, size.height)\n  }, [effect, size])\n\n  // Take over render-loop (that is what the index is for)\n  useFrame((state) => {\n    effect.render(scene, camera)\n  }, renderIndex)\n\n  // This component returns nothing, it is a purely logical\n}\n}\n"],"mappings":"AAAA,MAAO,cAAc,CACrB,OAASA,MAAM,KAAQ,oBAAoB,CAC3C,OAASC,WAAW,CAAEC,aAAa,KAAQ,mBAAmB,CAC9D,OAASC,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,KAAK,KAAM,SAAS,CAE3B,OAASC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,CAAEC,OAAO,CAAEC,eAAe,KAAQ,OAAO,CAC7E,OAASC,QAAQ,CAAEC,QAAQ,KAAQ,oBAAoB,CACvD,OAASC,SAAS,KAAQ,mBAAmB,CAC7C,OAASC,WAAW,KAAQ,cAAc,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1C,cAAe,SAAS,CAAAC,GAAGA,CAAA,CAAG,CAC5B,mBACEH,IAAA,QAAKI,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClBH,KAAA,CAACjB,MAAM,EAACqB,MAAM,CAAE,CAAEC,QAAQ,CAAE,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAAEC,QAAQ,CAAE,CAAC,CAACC,IAAI,CAACC,EAAE,CAAG,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAAEC,UAAU,CAAEC,MAAM,CAACC,gBAAiB,CAAE,CAAAR,QAAA,eAC7GL,IAAA,UAAOc,MAAM,CAAC,YAAY,CAACC,IAAI,CAAE,CAAC,OAAO,CAAE,EAAG,cAC9Cf,IAAA,cAAWO,QAAQ,CAAE,CAAC,EAAE,CAAE,EAAE,CAAE,EAAE,CAAE,CAACS,KAAK,CAAE,IAAK,CAACC,QAAQ,CAAE,CAAE,EAAG,cAC/DjB,IAAA,eAAYO,QAAQ,CAAE,CAAC,CAAC,EAAE,CAAE,CAAC,EAAE,CAAE,CAAC,EAAE,CAAE,EAAG,cACvCL,KAAA,CAACd,QAAQ,EAAC8B,QAAQ,CAAE,IAAK,CAAAb,QAAA,eACvBL,IAAA,CAACX,KAAK,IAAG,cACTW,IAAA,CAACb,aAAa,EAACgC,MAAM,CAAE,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,EAAG,cACpCnB,IAAA,CAACoB,aAAa,EAACC,OAAO,CAAC,OAAO,CAACC,OAAO,CAAC,OAAO,EAAG,GAExC,GACJ,EACL,CAER,QAAS,CAAAF,aAAaA,CAAAG,IAAA,CAQrB,KAAAC,gBAAA,CAAAD,IAAA,CAPDE,WAAW,CAAXA,WAAW,CAAAD,gBAAA,UAAG,CAAC,CAAAA,gBAAA,CAAAE,YAAA,CAAAH,IAAA,CACfD,OAAO,CAAPA,OAAO,CAAAI,YAAA,UAAG,OAAO,CAAAA,YAAA,CAAAC,YAAA,CAAAJ,IAAA,CACjBF,OAAO,CAAPA,OAAO,CAAAM,YAAA,UAAG,OAAO,CAAAA,YAAA,CAAAC,eAAA,CAAAL,IAAA,CACjBM,UAAU,CAAVA,UAAU,CAAAD,eAAA,UAAG,YAAY,CAAAA,eAAA,CAAAE,WAAA,CAAAP,IAAA,CACzBQ,MAAM,CAANA,MAAM,CAAAD,WAAA,UAAG,IAAI,CAAAA,WAAA,CAAAE,UAAA,CAAAT,IAAA,CACbU,KAAK,CAALA,KAAK,CAAAD,UAAA,UAAG,KAAK,CAAAA,UAAA,CAAAE,eAAA,CAAAX,IAAA,CACbY,UAAU,CAAVA,UAAU,CAAAD,eAAA,UAAG,GAAG,CAAAA,eAAA,CAEhB;AACA,IAAAE,SAAA,CAAoCxC,QAAQ,EAAE,CAAtCyC,IAAI,CAAAD,SAAA,CAAJC,IAAI,CAAEC,EAAE,CAAAF,SAAA,CAAFE,EAAE,CAAEC,KAAK,CAAAH,SAAA,CAALG,KAAK,CAAEjC,MAAM,CAAA8B,SAAA,CAAN9B,MAAM,CAC/B,GAAM,CAAAkC,WAAW,CAAGH,IAAI,CAACI,KAAK,CAAGJ,IAAI,CAACK,MAAM,CAE5C;AACA,GAAM,CAAAC,MAAM,CAAGlD,OAAO,CAAC,UAAM,CAC3B,GAAM,CAAAkD,MAAM,CAAG,GAAI,CAAA7C,WAAW,CAACwC,EAAE,CAAET,UAAU,CAAE,CAAEE,MAAM,CAANA,MAAM,CAAEE,KAAK,CAALA,KAAK,CAAEE,UAAU,CAAVA,UAAW,CAAC,CAAC,CAC7EQ,MAAM,CAACC,UAAU,CAACC,KAAK,CAACtC,QAAQ,CAAG,UAAU,CAC7CoC,MAAM,CAACC,UAAU,CAACC,KAAK,CAACC,GAAG,CAAG,KAAK,CACnCH,MAAM,CAACC,UAAU,CAACC,KAAK,CAACE,IAAI,CAAG,KAAK,CACpCJ,MAAM,CAACC,UAAU,CAACC,KAAK,CAACG,aAAa,CAAG,MAAM,CAC9C;AACA,MAAO,CAAAL,MAAM,CACf,CAAC,CAAE,CAACd,UAAU,CAAEE,MAAM,CAAEE,KAAK,CAAEO,WAAW,CAAEL,UAAU,CAAC,CAAC,CAExD;AACAzC,eAAe,CAAC,UAAM,CACpBiD,MAAM,CAACC,UAAU,CAACC,KAAK,CAACZ,KAAK,CAAGZ,OAAO,CACvCsB,MAAM,CAACC,UAAU,CAACC,KAAK,CAACI,eAAe,CAAG3B,OAAO,CACnD,CAAC,CAAE,CAACD,OAAO,CAAEC,OAAO,CAAC,CAAC,CAEtB;AACAhC,SAAS,CAAC,UAAM,CACdgD,EAAE,CAACM,UAAU,CAACC,KAAK,CAACK,OAAO,CAAG,GAAG,CACjCZ,EAAE,CAACM,UAAU,CAACO,UAAU,CAACC,WAAW,CAACT,MAAM,CAACC,UAAU,CAAC,CACvD,MAAO,WAAM,CACXN,EAAE,CAACM,UAAU,CAACC,KAAK,CAACK,OAAO,CAAG,GAAG,CACjCZ,EAAE,CAACM,UAAU,CAACO,UAAU,CAACE,WAAW,CAACV,MAAM,CAACC,UAAU,CAAC,CACzD,CAAC,CACH,CAAC,CAAE,CAACD,MAAM,CAAC,CAAC,CAEZ;AACArD,SAAS,CAAC,UAAM,CACdqD,MAAM,CAACW,OAAO,CAACjB,IAAI,CAACI,KAAK,CAAEJ,IAAI,CAACK,MAAM,CAAC,CACzC,CAAC,CAAE,CAACC,MAAM,CAAEN,IAAI,CAAC,CAAC,CAElB;AACA1C,QAAQ,CAAC,SAAC4D,KAAK,CAAK,CAClBZ,MAAM,CAACa,MAAM,CAACjB,KAAK,CAAEjC,MAAM,CAAC,CAC9B,CAAC,CAAEmB,WAAW,CAAC,CAEf;AACF,CACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
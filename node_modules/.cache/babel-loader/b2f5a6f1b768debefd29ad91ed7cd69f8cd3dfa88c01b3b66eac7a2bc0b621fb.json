{"ast":null,"code":"var _jsxFileName = \"/Users/ewang/Documents/Github/ascii-renderer/src/components/DynamicModel.js\",\n  _s = $RefreshSig$();\nimport { useLoader } from \"@react-three/fiber\";\nimport { useGLTF } from \"@react-three/drei\";\nimport { useEffect, useRef } from \"react\";\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\nimport { FBXLoader } from 'three/examples/jsm/loaders/FBXLoader';\nimport * as THREE from 'three';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function DynamicModel(_ref) {\n  _s();\n  var url = _ref.url,\n    type = _ref.type;\n  var modelRef = useRef();\n\n  // Load models based on type\n  var gltf = type === 'glb' || type === 'gltf' ? useGLTF(url) : null;\n  var fbx = type === 'fbx' ? useLoader(FBXLoader, url) : null;\n  var obj = type === 'obj' ? useLoader(OBJLoader, url) : null;\n  useEffect(function () {\n    if (fbx) {\n      fbx.position.set(0, -2, 0);\n      fbx.scale.set(0.001, 0.001, 0.001); // Adjust scaling as needed\n\n      fbx.traverse(function (child) {\n        if (child.isMesh) {\n          child.castShadow = true;\n          child.receiveShadow = true;\n          child.material.needsUpdate = true;\n        }\n      });\n      var box = new THREE.Box3().setFromObject(fbx);\n      var size = new THREE.Vector3();\n      box.getSize(size);\n      console.log('Model size:', size);\n      console.log('Model position:', fbx.position);\n    }\n  }, [fbx]);\n\n  // Return appropriate JSX based on type\n  if (type === 'glb' || type === 'gltf') {\n    return /*#__PURE__*/_jsxDEV(\"group\", {\n      ref: modelRef,\n      dispose: null,\n      children: /*#__PURE__*/_jsxDEV(\"primitive\", {\n        object: gltf.scene,\n        position: [0, 0, 0],\n        scale: [2, 2, 2]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this);\n  }\n  if (type === 'fbx') {\n    return /*#__PURE__*/_jsxDEV(\"group\", {\n      ref: modelRef,\n      children: /*#__PURE__*/_jsxDEV(\"primitive\", {\n        object: fbx,\n        dispose: null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this);\n  }\n  if (type === 'obj') {\n    return /*#__PURE__*/_jsxDEV(\"primitive\", {\n      object: obj,\n      ref: modelRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 12\n    }, this);\n  }\n  return null;\n}\n_s(DynamicModel, \"2wGUJjltyWj9yau+W2/Te5PcAjM=\", false, function () {\n  return [useGLTF, useLoader, useLoader];\n});\n_c = DynamicModel;\nvar _c;\n$RefreshReg$(_c, \"DynamicModel\");","map":{"version":3,"names":["useLoader","useGLTF","useEffect","useRef","GLTFLoader","OBJLoader","FBXLoader","THREE","jsxDEV","_jsxDEV","DynamicModel","_ref","_s","url","type","modelRef","gltf","fbx","obj","position","set","scale","traverse","child","isMesh","castShadow","receiveShadow","material","needsUpdate","box","Box3","setFromObject","size","Vector3","getSize","console","log","ref","dispose","children","object","scene","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/ewang/Documents/Github/ascii-renderer/src/components/DynamicModel.js"],"sourcesContent":["import { useLoader } from \"@react-three/fiber\";\nimport { useGLTF } from \"@react-three/drei\";\nimport { useEffect, useRef } from \"react\";\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader'\nimport { FBXLoader } from 'three/examples/jsm/loaders/FBXLoader'\nimport * as THREE from 'three'\n\nexport function DynamicModel({ url, type }) {\n  const modelRef = useRef()\n  \n  // Load models based on type\n  const gltf = (type === 'glb' || type === 'gltf') ? useGLTF(url) : null\n  const fbx = type === 'fbx' ? useLoader(FBXLoader, url) : null\n  const obj = type === 'obj' ? useLoader(OBJLoader, url) : null\n\n  useEffect(() => {\n    if (fbx) {\n      fbx.position.set(0, -2, 0)\n      fbx.scale.set(0.001, 0.001, 0.001) // Adjust scaling as needed\n      \n      fbx.traverse((child) => {\n        if (child.isMesh) {\n          child.castShadow = true\n          child.receiveShadow = true\n          child.material.needsUpdate = true\n        }\n      })\n\n      const box = new THREE.Box3().setFromObject(fbx)\n      const size = new THREE.Vector3()\n      box.getSize(size)\n      console.log('Model size:', size)\n      console.log('Model position:', fbx.position)\n    }\n  }, [fbx])\n\n  // Return appropriate JSX based on type\n  if (type === 'glb' || type === 'gltf') {\n    return (\n      <group ref={modelRef} dispose={null}>\n        <primitive object={gltf.scene} position={[0, 0, 0]} scale={[2, 2, 2]} />\n      </group>\n    )\n  }\n\n  if (type === 'fbx') {\n    return (\n      <group ref={modelRef}>\n        <primitive object={fbx} dispose={null} />\n      </group>\n    )\n  }\n\n  if (type === 'obj') {\n    return <primitive object={obj} ref={modelRef} />\n  }\n\n  return null\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
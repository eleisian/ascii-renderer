{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useMemo, useLayoutEffect } from 'react';\nimport { useFrame, useThree } from '@react-three/fiber';\nimport { AsciiEffect } from 'three-stdlib';\nexport function AsciiRenderer(_ref) {\n  _s();\n  var _ref$renderIndex = _ref.renderIndex,\n    renderIndex = _ref$renderIndex === void 0 ? 1 : _ref$renderIndex,\n    _ref$bgColor = _ref.bgColor,\n    bgColor = _ref$bgColor === void 0 ? 'black' : _ref$bgColor,\n    _ref$fgColor = _ref.fgColor,\n    fgColor = _ref$fgColor === void 0 ? 'white' : _ref$fgColor,\n    _ref$characters = _ref.characters,\n    characters = _ref$characters === void 0 ? ' .:-=+*#%@' : _ref$characters,\n    _ref$invert = _ref.invert,\n    invert = _ref$invert === void 0 ? true : _ref$invert,\n    _ref$color = _ref.color,\n    color = _ref$color === void 0 ? false : _ref$color,\n    _ref$resolution = _ref.resolution,\n    resolution = _ref$resolution === void 0 ? 0.55 : _ref$resolution;\n  var _useThree = useThree(),\n    size = _useThree.size,\n    gl = _useThree.gl,\n    scene = _useThree.scene,\n    camera = _useThree.camera;\n  var effect = useMemo(function () {\n    var width = window.innerWidth;\n    var height = window.innerHeight;\n    console.log('Window dimensions:', {\n      width: width,\n      height: height\n    });\n    console.log('Canvas dimensions:', {\n      width: size.width,\n      height: size.height\n    });\n    var effect = new AsciiEffect(gl, characters, {\n      invert: invert,\n      color: color,\n      resolution: resolution,\n      width: Math.floor(width),\n      height: Math.floor(height)\n    });\n    effect.domElement.style.position = 'absolute';\n    effect.domElement.style.top = '0px';\n    effect.domElement.style.left = '0px';\n    effect.domElement.style.width = '100%';\n    effect.domElement.style.height = '100%';\n    effect.domElement.style.backgroundColor = bgColor;\n    effect.domElement.style.color = fgColor;\n    effect.domElement.style.display = 'flex';\n    effect.domElement.style.justifyContent = 'center';\n    effect.domElement.style.alignItems = 'center';\n    return effect;\n  }, [gl, characters, invert, color, resolution, bgColor, fgColor, size]);\n  useEffect(function () {\n    var parent = gl.domElement.parentNode;\n    if (parent) {\n      parent.style.width = '100%';\n      parent.style.height = '100%';\n      gl.domElement.style.opacity = '0';\n      parent.appendChild(effect.domElement);\n    }\n    return function () {\n      if (parent) {\n        gl.domElement.style.opacity = '1';\n        parent.removeChild(effect.domElement);\n      }\n    };\n  }, [gl, effect]);\n  useEffect(function () {\n    var handleResize = function handleResize() {\n      var width = Math.floor(window.innerWidth);\n      var height = Math.floor(window.innerHeight);\n      effect.setSize(width, height);\n      console.log('Resized to:', {\n        width: width,\n        height: height\n      });\n    };\n    window.addEventListener('resize', handleResize);\n    return function () {\n      return window.removeEventListener('resize', handleResize);\n    };\n  }, [effect]);\n  useFrame(function () {\n    effect.render(scene, camera);\n  }, renderIndex);\n  return null;\n}\n_s(AsciiRenderer, \"+5v5wu6zxPIQxy6o4INdMFRNYQs=\", false, function () {\n  return [useThree, useFrame];\n});\n_c = AsciiRenderer;\nvar _c;\n$RefreshReg$(_c, \"AsciiRenderer\");","map":{"version":3,"names":["useEffect","useMemo","useLayoutEffect","useFrame","useThree","AsciiEffect","AsciiRenderer","_ref","_s","_ref$renderIndex","renderIndex","_ref$bgColor","bgColor","_ref$fgColor","fgColor","_ref$characters","characters","_ref$invert","invert","_ref$color","color","_ref$resolution","resolution","_useThree","size","gl","scene","camera","effect","width","window","innerWidth","height","innerHeight","console","log","Math","floor","domElement","style","position","top","left","backgroundColor","display","justifyContent","alignItems","parent","parentNode","opacity","appendChild","removeChild","handleResize","setSize","addEventListener","removeEventListener","render","_c","$RefreshReg$"],"sources":["/Users/ewang/Documents/Github/ascii-renderer/src/components/AsciiRenderer.js"],"sourcesContent":["import { useEffect, useMemo, useLayoutEffect } from 'react'\nimport { useFrame, useThree } from '@react-three/fiber'\nimport { AsciiEffect } from 'three-stdlib'\n\nexport function AsciiRenderer({\n  renderIndex = 1,\n  bgColor = 'black',\n  fgColor = 'white',  \n  characters = ' .:-=+*#%@',\n  invert = true,\n  color = false,\n  resolution = 0.55\n}) {\n  const { size, gl, scene, camera } = useThree()\n  \n  const effect = useMemo(() => {\n    const width = window.innerWidth\n    const height = window.innerHeight\n    \n    console.log('Window dimensions:', { width, height })\n    console.log('Canvas dimensions:', { width: size.width, height: size.height })\n    \n    const effect = new AsciiEffect(gl, characters, { \n      invert, \n      color, \n      resolution,\n      width: Math.floor(width),\n      height: Math.floor(height)\n    })\n    \n    effect.domElement.style.position = 'absolute'\n    effect.domElement.style.top = '0px'\n    effect.domElement.style.left = '0px'\n    effect.domElement.style.width = '100%'\n    effect.domElement.style.height = '100%'\n    effect.domElement.style.backgroundColor = bgColor\n    effect.domElement.style.color = fgColor\n    effect.domElement.style.display = 'flex'\n    effect.domElement.style.justifyContent = 'center'\n    effect.domElement.style.alignItems = 'center'\n    \n    return effect\n  }, [gl, characters, invert, color, resolution, bgColor, fgColor, size])\n\n  useEffect(() => {\n    const parent = gl.domElement.parentNode\n    if (parent) {\n      parent.style.width = '100%'\n      parent.style.height = '100%'\n      gl.domElement.style.opacity = '0'\n      parent.appendChild(effect.domElement)\n    }\n    return () => {\n      if (parent) {\n        gl.domElement.style.opacity = '1'\n        parent.removeChild(effect.domElement)\n      }\n    }\n  }, [gl, effect])\n\n  useEffect(() => {\n    const handleResize = () => {\n      const width = Math.floor(window.innerWidth)\n      const height = Math.floor(window.innerHeight)\n      effect.setSize(width, height)\n      console.log('Resized to:', { width, height })\n    }\n\n    window.addEventListener('resize', handleResize)\n    return () => window.removeEventListener('resize', handleResize)\n  }, [effect])\n\n  useFrame(() => {\n    effect.render(scene, camera)\n  }, renderIndex)\n\n  return null\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
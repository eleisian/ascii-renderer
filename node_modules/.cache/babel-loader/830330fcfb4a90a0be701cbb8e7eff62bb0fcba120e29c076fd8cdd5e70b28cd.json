{"ast":null,"code":"var _jsxFileName = \"/Users/ewang/Documents/Github/ascii-renderer/src/components/DynamicModel.js\",\n  _s = $RefreshSig$();\nimport { useLoader } from \"@react-three/fiber\";\nimport { useGLTF } from \"@react-three/drei\";\nimport { useEffect, useRef } from \"react\";\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\nimport { FBXLoader } from 'three/examples/jsm/loaders/FBXLoader';\nimport * as THREE from 'three';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function DynamicModel(_ref) {\n  _s();\n  var url = _ref.url,\n    type = _ref.type;\n  var modelRef = useRef();\n\n  // Handle GLTF/GLB files\n  if (type === 'glb' || type === 'gltf') {\n    var gltf = useGLTF(url);\n    return /*#__PURE__*/_jsxDEV(\"group\", {\n      ref: modelRef,\n      dispose: null,\n      children: /*#__PURE__*/_jsxDEV(\"primitive\", {\n        object: gltf.scene,\n        position: [0, 0, 0],\n        scale: [2, 2, 2]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Handle FBX files\n  if (type === 'fbx') {\n    var fbx = useLoader(FBXLoader, url);\n    useEffect(function () {\n      if (fbx) {\n        fbx.position.set(0, -2, 0);\n        fbx.scale.set(0.001, 0.001, 0.001);\n        fbx.traverse(function (child) {\n          if (child.isMesh) {\n            child.castShadow = true;\n            child.receiveShadow = true;\n            child.material.needsUpdate = true;\n          }\n        });\n        var box = new THREE.Box3().setFromObject(fbx);\n        var size = new THREE.Vector3();\n        box.getSize(size);\n        console.log('Model size:', size);\n        console.log('Model position:', fbx.position);\n      }\n    }, [fbx]);\n    return /*#__PURE__*/_jsxDEV(\"group\", {\n      ref: modelRef,\n      children: /*#__PURE__*/_jsxDEV(\"primitive\", {\n        object: fbx,\n        dispose: null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Handle OBJ files\n  if (type === 'obj') {\n    var obj = useLoader(OBJLoader, url);\n    return /*#__PURE__*/_jsxDEV(\"primitive\", {\n      object: obj,\n      ref: modelRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 12\n    }, this);\n  }\n  return null;\n}\n_s(DynamicModel, \"mrLhrDcLJXlhSFcU9o5EztPKxps=\", false, function () {\n  return [useGLTF, useLoader, useLoader];\n});\n_c = DynamicModel;\nvar _c;\n$RefreshReg$(_c, \"DynamicModel\");","map":{"version":3,"names":["useLoader","useGLTF","useEffect","useRef","GLTFLoader","OBJLoader","FBXLoader","THREE","jsxDEV","_jsxDEV","DynamicModel","_ref","_s","url","type","modelRef","gltf","ref","dispose","children","object","scene","position","scale","fileName","_jsxFileName","lineNumber","columnNumber","fbx","set","traverse","child","isMesh","castShadow","receiveShadow","material","needsUpdate","box","Box3","setFromObject","size","Vector3","getSize","console","log","obj","_c","$RefreshReg$"],"sources":["/Users/ewang/Documents/Github/ascii-renderer/src/components/DynamicModel.js"],"sourcesContent":["import { useLoader } from \"@react-three/fiber\";\nimport { useGLTF } from \"@react-three/drei\";\nimport { useEffect, useRef } from \"react\";\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader'\nimport { FBXLoader } from 'three/examples/jsm/loaders/FBXLoader'\nimport * as THREE from 'three'\n\nexport function DynamicModel({ url, type }) {\n  const modelRef = useRef()\n\n  // Handle GLTF/GLB files\n  if (type === 'glb' || type === 'gltf') {\n    const gltf = useGLTF(url)\n    return (\n      <group ref={modelRef} dispose={null}>\n        <primitive \n          object={gltf.scene} \n          position={[0, 0, 0]}\n          scale={[2, 2, 2]}\n        />\n      </group>\n    )\n  }\n\n  // Handle FBX files\n  if (type === 'fbx') {\n    const fbx = useLoader(FBXLoader, url)\n    \n    useEffect(() => {\n      if (fbx) {\n        fbx.position.set(0, -2, 0)\n        fbx.scale.set(0.001, 0.001, 0.001)\n        \n        fbx.traverse((child) => {\n          if (child.isMesh) {\n            child.castShadow = true\n            child.receiveShadow = true\n            child.material.needsUpdate = true\n          }\n        })\n\n        const box = new THREE.Box3().setFromObject(fbx)\n        const size = new THREE.Vector3()\n        box.getSize(size)\n        console.log('Model size:', size)\n        console.log('Model position:', fbx.position)\n      }\n    }, [fbx])\n\n    return (\n      <group ref={modelRef}>\n        <primitive object={fbx} dispose={null} />\n      </group>\n    )\n  }\n\n  // Handle OBJ files\n  if (type === 'obj') {\n    const obj = useLoader(OBJLoader, url)\n    return <primitive object={obj} ref={modelRef} />\n  }\n\n  return null\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
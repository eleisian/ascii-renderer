{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useMemo, useCallback } from 'react';\nimport { useThree } from '@react-three/fiber';\nimport { AsciiEffect } from 'three-stdlib';\nimport * as THREE from 'three';\nexport function AsciiRenderer(_ref) {\n  _s();\n  var _ref$bgColor = _ref.bgColor,\n    bgColor = _ref$bgColor === void 0 ? '#000000' : _ref$bgColor,\n    _ref$fgColor = _ref.fgColor,\n    fgColor = _ref$fgColor === void 0 ? '#ffffff' : _ref$fgColor,\n    _ref$characters = _ref.characters,\n    characters = _ref$characters === void 0 ? '@%#*+=-:. ' : _ref$characters,\n    _ref$invert = _ref.invert,\n    invert = _ref$invert === void 0 ? true : _ref$invert,\n    _ref$color = _ref.color,\n    color = _ref$color === void 0 ? false : _ref$color,\n    _ref$resolution = _ref.resolution,\n    resolution = _ref$resolution === void 0 ? 0.15 : _ref$resolution,\n    _ref$isAscii = _ref.isAscii,\n    isAscii = _ref$isAscii === void 0 ? true : _ref$isAscii,\n    _ref$fontSize = _ref.fontSize,\n    fontSize = _ref$fontSize === void 0 ? '16px' : _ref$fontSize,\n    _ref$lineHeight = _ref.lineHeight,\n    lineHeight = _ref$lineHeight === void 0 ? '0.8' : _ref$lineHeight;\n  var _useThree = useThree(),\n    gl = _useThree.gl,\n    scene = _useThree.scene,\n    camera = _useThree.camera,\n    size = _useThree.size;\n\n  // Create ASCII effect\n  var effect = useMemo(function () {\n    var asciiEffect = new AsciiEffect(gl, characters, {\n      invert: invert,\n      color: color,\n      resolution: resolution\n    });\n\n    // Set initial size\n    asciiEffect.setSize(size.width, size.height);\n\n    // Style the ASCII canvas\n    Object.assign(asciiEffect.domElement.style, {\n      position: 'absolute',\n      top: '0',\n      left: '0',\n      width: '100%',\n      height: '100%',\n      backgroundColor: bgColor,\n      color: fgColor,\n      fontFamily: 'monospace',\n      whiteSpace: 'pre',\n      margin: '0',\n      fontSize: fontSize,\n      // Updated\n      lineHeight: lineHeight // Updated\n    });\n\n    return asciiEffect;\n  }, [gl, characters, invert, color, resolution, bgColor, fgColor, size, fontSize, lineHeight]);\n\n  // Handle mounting/unmounting\n  useEffect(function () {\n    var parent = gl.domElement.parentElement;\n    if (parent && isAscii) {\n      parent.appendChild(effect.domElement);\n      gl.domElement.style.display = 'none';\n    }\n    return function () {\n      if (parent && isAscii) {\n        parent.removeChild(effect.domElement);\n        gl.domElement.style.display = 'block';\n      }\n    };\n  }, [gl, effect, isAscii]);\n\n  // Handle resizing\n  useEffect(function () {\n    var handleResize = function handleResize() {\n      var newResolution = window.innerWidth < 600 ? 0.2 : resolution;\n      effect.setSize(size.width, size.height);\n      effect.resolution = newResolution;\n      gl.setSize(size.width, size.height);\n      if (camera instanceof THREE.PerspectiveCamera) {\n        camera.aspect = size.width / size.height;\n        camera.updateProjectionMatrix();\n      }\n\n      // Adjust font size and line height based on window size\n      effect.domElement.style.fontSize = window.innerWidth < 600 ? '12px' : fontSize;\n      effect.domElement.style.lineHeight = window.innerWidth < 600 ? '0.6' : lineHeight;\n    };\n    window.addEventListener('resize', handleResize);\n    handleResize();\n    return function () {\n      return window.removeEventListener('resize', handleResize);\n    };\n  }, [gl, effect, camera, size, resolution, fontSize, lineHeight]);\n\n  // Render loop\n  useEffect(function () {\n    var render = function render() {\n      if (isAscii) {\n        effect.render(scene, camera);\n      } else {\n        gl.render(scene, camera);\n      }\n    };\n    gl.setAnimationLoop(render);\n    return function () {\n      gl.setAnimationLoop(null);\n    };\n  }, [gl, scene, camera, effect, isAscii]);\n  return null; // No JSX to render inside Canvas\n}\n_s(AsciiRenderer, \"BtAMRIksud0dCCQQf6SFEOkrpV0=\", false, function () {\n  return [useThree];\n});\n_c = AsciiRenderer;\nvar _c;\n$RefreshReg$(_c, \"AsciiRenderer\");","map":{"version":3,"names":["useEffect","useMemo","useCallback","useThree","AsciiEffect","THREE","AsciiRenderer","_ref","_s","_ref$bgColor","bgColor","_ref$fgColor","fgColor","_ref$characters","characters","_ref$invert","invert","_ref$color","color","_ref$resolution","resolution","_ref$isAscii","isAscii","_ref$fontSize","fontSize","_ref$lineHeight","lineHeight","_useThree","gl","scene","camera","size","effect","asciiEffect","setSize","width","height","Object","assign","domElement","style","position","top","left","backgroundColor","fontFamily","whiteSpace","margin","parent","parentElement","appendChild","display","removeChild","handleResize","newResolution","window","innerWidth","PerspectiveCamera","aspect","updateProjectionMatrix","addEventListener","removeEventListener","render","setAnimationLoop","_c","$RefreshReg$"],"sources":["/Users/ewang/Documents/Github/ascii-renderer/src/components/AsciiRenderer.js"],"sourcesContent":["import { useEffect, useMemo, useCallback } from 'react'\nimport { useThree } from '@react-three/fiber'\nimport { AsciiEffect } from 'three-stdlib'\nimport * as THREE from 'three'\n\nexport function AsciiRenderer({\n  bgColor = '#000000',\n  fgColor = '#ffffff',\n  characters = '@%#*+=-:. ',\n  invert = true,\n  color = false,\n  resolution = 0.15,\n  isAscii = true,\n  fontSize = '16px',\n  lineHeight = '0.8'\n}) {\n  const { gl, scene, camera, size } = useThree()\n\n  // Create ASCII effect\n  const effect = useMemo(() => {\n    const asciiEffect = new AsciiEffect(gl, characters, {\n      invert,\n      color,\n      resolution\n    })\n\n    // Set initial size\n    asciiEffect.setSize(size.width, size.height)\n    \n    // Style the ASCII canvas\n    Object.assign(asciiEffect.domElement.style, {\n      position: 'absolute',\n      top: '0',\n      left: '0',\n      width: '100%',\n      height: '100%',\n      backgroundColor: bgColor,\n      color: fgColor,\n      fontFamily: 'monospace',\n      whiteSpace: 'pre',\n      margin: '0',\n      fontSize: fontSize,       // Updated\n      lineHeight: lineHeight    // Updated\n    })\n\n    return asciiEffect\n  }, [gl, characters, invert, color, resolution, bgColor, fgColor, size, fontSize, lineHeight])\n\n  // Handle mounting/unmounting\n  useEffect(() => {\n    const parent = gl.domElement.parentElement\n    if (parent && isAscii) {\n      parent.appendChild(effect.domElement)\n      gl.domElement.style.display = 'none'\n    }\n    \n    return () => {\n      if (parent && isAscii) {\n        parent.removeChild(effect.domElement)\n        gl.domElement.style.display = 'block'\n      }\n    }\n  }, [gl, effect, isAscii])\n\n  // Handle resizing\n  useEffect(() => {\n    const handleResize = () => {\n      const newResolution = window.innerWidth < 600 ? 0.2 : resolution\n      effect.setSize(size.width, size.height)\n      effect.resolution = newResolution\n      gl.setSize(size.width, size.height)\n      \n      if (camera instanceof THREE.PerspectiveCamera) {\n        camera.aspect = size.width / size.height\n        camera.updateProjectionMatrix()\n      }\n\n      // Adjust font size and line height based on window size\n      effect.domElement.style.fontSize = window.innerWidth < 600 ? '12px' : fontSize\n      effect.domElement.style.lineHeight = window.innerWidth < 600 ? '0.6' : lineHeight\n    }\n\n    window.addEventListener('resize', handleResize)\n    handleResize()\n    \n    return () => window.removeEventListener('resize', handleResize)\n  }, [gl, effect, camera, size, resolution, fontSize, lineHeight])\n\n  // Render loop\n  useEffect(() => {\n    const render = () => {\n      if (isAscii) {\n        effect.render(scene, camera)\n      } else {\n        gl.render(scene, camera)\n      }\n    }\n    gl.setAnimationLoop(render)\n    return () => {\n      gl.setAnimationLoop(null)\n    }\n  }, [gl, scene, camera, effect, isAscii])\n\n  return null // No JSX to render inside Canvas\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
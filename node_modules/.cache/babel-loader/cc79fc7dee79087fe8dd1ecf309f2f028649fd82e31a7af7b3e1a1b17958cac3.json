{"ast":null,"code":"import{OrbitControls}from\"@react-three/drei\";import{useThree}from\"@react-three/fiber\";import{useEffect}from\"react\";import{DynamicModel}from\"./DynamicModel\";import{AsciiRenderer}from\"./AsciiRenderer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function Scene(_ref){var modelUrl=_ref.modelUrl,modelType=_ref.modelType,theme=_ref.theme,themes=_ref.themes,isAscii=_ref.isAscii;var _useThree=useThree(),camera=_useThree.camera;// Get current theme colors\nvar currentTheme=themes[theme];useEffect(function(){var _camera$parent,_camera$parent$parent,_camera$parent$parent2;// Ensure camera aspect ratio is set correctly on mount\nvar container=(_camera$parent=camera.parent)===null||_camera$parent===void 0?void 0:(_camera$parent$parent=_camera$parent.parent)===null||_camera$parent$parent===void 0?void 0:(_camera$parent$parent2=_camera$parent$parent.parent)===null||_camera$parent$parent2===void 0?void 0:_camera$parent$parent2.parent;// Find the canvas container\nif(container){camera.aspect=container.clientWidth/container.clientHeight;camera.updateProjectionMatrix();}},[camera]);return/*#__PURE__*/_jsxs(\"group\",{children:[/*#__PURE__*/_jsx(\"color\",{attach:\"background\",args:[theme==='dark'?'#000000':'#ffffff']}),/*#__PURE__*/_jsxs(\"group\",{position:[0,0,0],children:[/*#__PURE__*/_jsx(\"ambientLight\",{intensity:0.5}),/*#__PURE__*/_jsx(\"directionalLight\",{position:[5,5,5],intensity:1,castShadow:true}),/*#__PURE__*/_jsx(\"directionalLight\",{position:[-5,-5,-5],intensity:0.5}),!modelUrl&&/*#__PURE__*/_jsx(\"mesh\",{position:[0,0,0],scale:1,children:/*#__PURE__*/_jsx(\"boxGeometry\",{args:[1,1,1,32,32,32]})}),modelUrl&&/*#__PURE__*/_jsx(DynamicModel,{url:modelUrl,type:modelType})]}),/*#__PURE__*/_jsx(OrbitControls,{makeDefault:true,enablePan:true,enableZoom:true,enableRotate:true,minDistance:2,maxDistance:20,target:[0,0,0],camera:camera}),/*#__PURE__*/_jsx(AsciiRenderer,{fgColor:theme==='dark'?'#ffffff':'#000000',bgColor:theme==='dark'?'#000000':'#ffffff',resolution:0.2,characters:\" .:-+*=%@#\",invert:false,color:false,isAscii:isAscii,fontSize:\"16px\",lineHeight:\"0.8\"})]});}","map":{"version":3,"names":["OrbitControls","useThree","useEffect","DynamicModel","AsciiRenderer","jsx","_jsx","jsxs","_jsxs","Scene","_ref","modelUrl","modelType","theme","themes","isAscii","_useThree","camera","currentTheme","_camera$parent","_camera$parent$parent","_camera$parent$parent2","container","parent","aspect","clientWidth","clientHeight","updateProjectionMatrix","children","attach","args","position","intensity","castShadow","scale","url","type","makeDefault","enablePan","enableZoom","enableRotate","minDistance","maxDistance","target","fgColor","bgColor","resolution","characters","invert","color","fontSize","lineHeight"],"sources":["/Users/ewang/Documents/Github/ascii-renderer/src/components/Scene.js"],"sourcesContent":["import { OrbitControls } from \"@react-three/drei\";\nimport { useThree } from \"@react-three/fiber\";\nimport { useEffect } from \"react\";\nimport { DynamicModel } from \"./DynamicModel\";\nimport { AsciiRenderer } from \"./AsciiRenderer\";\n\nexport function Scene({ modelUrl, modelType, theme, themes, isAscii }) {\n  const { camera } = useThree();\n\n  // Get current theme colors\n  const currentTheme = themes[theme]\n\n  useEffect(() => {\n    // Ensure camera aspect ratio is set correctly on mount\n    const container = camera.parent?.parent?.parent?.parent // Find the canvas container\n    if (container) {\n      camera.aspect = container.clientWidth / container.clientHeight\n      camera.updateProjectionMatrix()\n    }\n  }, [camera])\n\n  return (\n    <group>\n      <color attach=\"background\" args={[theme === 'dark' ? '#000000' : '#ffffff']} />\n      \n      <group position={[0, 0, 0]}>\n        <ambientLight intensity={0.5} />\n        <directionalLight \n          position={[5, 5, 5]} \n          intensity={1} \n          castShadow\n        />\n        <directionalLight \n          position={[-5, -5, -5]} \n          intensity={0.5} \n        />\n      \n        {/* Show default cube when no model is loaded */}\n        {!modelUrl && (\n          <mesh position={[0, 0, 0]} scale={1}>\n            <boxGeometry args={[1, 1, 1, 32, 32, 32]} />\n          </mesh>\n        )}\n\n        {/* Show uploaded model when available */}\n        {modelUrl && (\n          <DynamicModel \n            url={modelUrl} \n            type={modelType}\n          />\n        )}\n      </group>\n\n      <OrbitControls \n        makeDefault\n        enablePan={true}\n        enableZoom={true}\n        enableRotate={true}\n        minDistance={2}\n        maxDistance={20}\n        target={[0, 0, 0]}\n        camera={camera}\n      />\n      \n      <AsciiRenderer \n        fgColor={theme === 'dark' ? '#ffffff' : '#000000'}\n        bgColor={theme === 'dark' ? '#000000' : '#ffffff'}\n        resolution={0.2}\n        characters=' .:-+*=%@#'\n        invert={false}\n        color={false}\n        isAscii={isAscii}\n        fontSize='16px'\n        lineHeight='0.8'\n      />\n    </group>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
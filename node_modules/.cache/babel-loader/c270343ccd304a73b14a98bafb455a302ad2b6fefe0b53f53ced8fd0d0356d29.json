{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useMemo, useLayoutEffect } from 'react';\nimport { useFrame, useThree } from '@react-three/fiber';\nimport { AsciiEffect } from 'three-stdlib';\nimport * as THREE from 'three';\nexport function AsciiRenderer(_ref) {\n  _s();\n  var _ref$renderIndex = _ref.renderIndex,\n    renderIndex = _ref$renderIndex === void 0 ? 1 : _ref$renderIndex,\n    bgColor = _ref.bgColor,\n    fgColor = _ref.fgColor,\n    characters = _ref.characters,\n    invert = _ref.invert,\n    color = _ref.color,\n    resolution = _ref.resolution;\n  var _useThree = useThree(),\n    gl = _useThree.gl,\n    scene = _useThree.scene,\n    camera = _useThree.camera;\n  var effect = useMemo(function () {\n    var asciiEffect = new AsciiEffect(gl, characters, {\n      invert: invert,\n      color: color,\n      resolution: resolution\n    });\n    var width = Math.max(gl.domElement.clientWidth || window.innerWidth, 1);\n    var height = Math.max(gl.domElement.clientHeight || window.innerHeight, 1);\n    asciiEffect.setSize(width, height);\n    gl.setSize(width, height, false);\n    asciiEffect.domElement.style.cssText = \"\\n      position: absolute;\\n      left: 50%;\\n      top: 50%;\\n      transform: translate(-50%, -50%);\\n      background-color: \".concat(bgColor, \" !important;\\n      color: \").concat(fgColor, \" !important;\\n      font-family: monospace;\\n      font-size: \").concat(Math.max(4, 16 * resolution), \"px;\\n      width: 100%;\\n      height: 100%;\\n    \").trim();\n    return asciiEffect;\n  }, [gl, characters, invert, color, resolution, bgColor, fgColor]);\n  useEffect(function () {\n    var parent = gl.domElement.parentNode;\n    if (parent) {\n      gl.domElement.style.display = 'none';\n      parent.appendChild(effect.domElement);\n    }\n    return function () {\n      if (parent) {\n        gl.domElement.style.display = 'block';\n        parent.removeChild(effect.domElement);\n      }\n    };\n  }, [gl, effect]);\n  useEffect(function () {\n    function handleResize() {\n      var width = Math.max(gl.domElement.clientWidth || window.innerWidth, 1);\n      var height = Math.max(gl.domElement.clientHeight || window.innerHeight, 1);\n      effect.setSize(width, height);\n      gl.setSize(width, height, false);\n      if (camera instanceof THREE.PerspectiveCamera) {\n        camera.aspect = width / height;\n        camera.updateProjectionMatrix();\n      }\n    }\n    window.addEventListener('resize', handleResize);\n    handleResize();\n    return function () {\n      return window.removeEventListener('resize', handleResize);\n    };\n  }, [gl, effect, camera, resolution]);\n  useFrame(function () {\n    effect.render(scene, camera);\n  }, renderIndex);\n  useEffect(function () {\n    if (effect && effect.domElement) {\n      effect.domElement.style.cssText = \"\\n        position: absolute;\\n        left: 50%;\\n        top: 50%;\\n        transform: translate(-50%, -50%);\\n        background-color: \".concat(bgColor, \" !important;\\n        color: \").concat(fgColor, \" !important;\\n        font-family: monospace;\\n        font-size: \").concat(Math.max(4, 16 * resolution), \"px;\\n      \");\n    }\n  }, [effect, bgColor, fgColor]);\n  return null;\n}\n_s(AsciiRenderer, \"Y3h0bHF8qcweLEQeuP47ychg0Uk=\", false, function () {\n  return [useThree, useFrame];\n});\n_c = AsciiRenderer;\nvar _c;\n$RefreshReg$(_c, \"AsciiRenderer\");","map":{"version":3,"names":["useEffect","useMemo","useLayoutEffect","useFrame","useThree","AsciiEffect","THREE","AsciiRenderer","_ref","_s","_ref$renderIndex","renderIndex","bgColor","fgColor","characters","invert","color","resolution","_useThree","gl","scene","camera","effect","asciiEffect","width","Math","max","domElement","clientWidth","window","innerWidth","height","clientHeight","innerHeight","setSize","style","cssText","concat","trim","parent","parentNode","display","appendChild","removeChild","handleResize","PerspectiveCamera","aspect","updateProjectionMatrix","addEventListener","removeEventListener","render","_c","$RefreshReg$"],"sources":["/Users/ewang/Documents/Github/ascii-renderer/src/components/AsciiRenderer.js"],"sourcesContent":["import { useEffect, useMemo, useLayoutEffect } from 'react'\nimport { useFrame, useThree } from '@react-three/fiber'\nimport { AsciiEffect } from 'three-stdlib'\nimport * as THREE from 'three'\nexport function AsciiRenderer({\n  renderIndex = 1,\n  bgColor,\n  fgColor,  \n  characters,\n  invert,\n  color,\n  resolution\n}) {\n  const { gl, scene, camera } = useThree()\n  \n  const effect = useMemo(() => {\n    const asciiEffect = new AsciiEffect(gl, characters, { \n      invert, \n      color, \n      resolution\n    });\n    \n    const width = Math.max(gl.domElement.clientWidth || window.innerWidth, 1);\n    const height = Math.max(gl.domElement.clientHeight || window.innerHeight, 1);\n    \n    asciiEffect.setSize(width, height);\n    gl.setSize(width, height, false);\n    \n    asciiEffect.domElement.style.cssText = `\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      background-color: ${bgColor} !important;\n      color: ${fgColor} !important;\n      font-family: monospace;\n      font-size: ${Math.max(4, 16 * resolution)}px;\n      width: 100%;\n      height: 100%;\n    `.trim();\n    \n    return asciiEffect;\n  }, [gl, characters, invert, color, resolution, bgColor, fgColor]);\n\n  useEffect(() => {\n    const parent = gl.domElement.parentNode\n    if (parent) {\n      gl.domElement.style.display = 'none'\n      parent.appendChild(effect.domElement)\n    }\n    return () => {\n      if (parent) {\n        gl.domElement.style.display = 'block'\n        parent.removeChild(effect.domElement)\n      }\n    }\n  }, [gl, effect])\n\n  useEffect(() => {\n    function handleResize() {\n      const width = Math.max(gl.domElement.clientWidth || window.innerWidth, 1);\n      const height = Math.max(gl.domElement.clientHeight || window.innerHeight, 1);\n      \n      effect.setSize(width, height);\n      gl.setSize(width, height, false);\n      \n      if (camera instanceof THREE.PerspectiveCamera) {\n        camera.aspect = width / height;\n        camera.updateProjectionMatrix();\n      }\n    }\n\n    window.addEventListener('resize', handleResize);\n    handleResize();\n    return () => window.removeEventListener('resize', handleResize);\n  }, [gl, effect, camera, resolution]);\n\n  useFrame(() => {\n    effect.render(scene, camera);\n  }, renderIndex);\n\n  useEffect(() => {\n    if (effect && effect.domElement) {\n      effect.domElement.style.cssText = `\n        position: absolute;\n        left: 50%;\n        top: 50%;\n        transform: translate(-50%, -50%);\n        background-color: ${bgColor} !important;\n        color: ${fgColor} !important;\n        font-family: monospace;\n        font-size: ${Math.max(4, 16 * resolution)}px;\n      `\n    }\n  }, [effect, bgColor, fgColor]);\n\n  return null\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}